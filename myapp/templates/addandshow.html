{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1 class='text-center alert alert-danger mt-5'>Function Based View ModelForm Crud Operation</h1>
    <div class="row">
        <div class="col-lg-4">
            <h4 class='alert alert-info'>Add New Student</h4>
            <form action="" method="POST">
                {% csrf_token %}
                {{ form.as_p }}
                <input class='btn btn-success' type="submit" value="Add">
            </form>

        </div>
        <div class="col-lg-7 offset-1">
            <h4 class='alert alert-info'>Show Student Information</h4>
            {% if stu %}
            <table class="table table-hover">
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Name</th>
                    <th scope="col">Email</th>
                    <th scope="col">Roll_id</th>
                    <th scope="col">Action</th>
                  </tr>
                </thead>
                <tbody>
                    {% for i in stu %}
                    <tr>
                    <th scope="row">{{i.id}}</th>
                    <td>{{i.name}}</td>
                    <td>{{i.email}}</td>
                    <td>{{i.roll_id}}</td>
                    <td><a href="{% url 'update' i.id %}" class="btn btn-warning">Edit</a></td>
                    <td >
                        <form action="{% url 'delete' i.id %}" method="POST" class="d-inline">
                    {% csrf_token %}
                    <input type="submit" value='delete' class="btn btn-danger">
                    </form></td>

                </tr>
                {% endfor %}
            </tbody>
              </table>
            {% else %}
            <h4 class='text-center mt-5 alert alert-success'>No Records</h4>
            {% endif %}

        </div>
    </div>
</div>
{% endblock  %}